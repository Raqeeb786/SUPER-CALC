<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter</title>
</head>
<body>
    
    <h1><b>CURRENCY CONVERTER</b></h1>
    <input type="number" id="amount" from="1" placeholder="Enter amount">
    <label for="from">FROM</label>
    <img id="fromflag" src="https:/flagsapi.com/US/flat/64.png">
    <select id="from">
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="INR">INR</option>
        <option value="JPY">JPY</option>
        <option value="GBP">GBP</option>
    </select>
    <label for="to">TO</label>
    <img id="fromflag" src="https:/flagsapi.com/IN/flat/64.png">
    <select id="to">
        <option value="INR">INR</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="JPY">JPY</option>
        <option value="GBP">GBP</option>
    </select>
    <button onclick="convert()">CONVERT</button>
    <P id="result">RESULT</P>
    <script>
        function convert(){
            var amount = document.getElementById("amount").value;
            var from = document.getElementById("from").value;
            var to = document.getElementById("to").value;
            var result = document.getElementById("result");      
            
            var url="https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/"+from.toLowerCase()+".json"
            fetch(url).then(response=>response.json().then(data=>{
                console.log(data)
                var rate= data[from.toLowerCase()][to.toLowerCase()]
                console.log(rate)
                var final= amount*rate
                console.log(final)
                result.innerHTML=final;
            }))            
            
            
            //var url = "https://api.exchangerate-api.com/v4/latest/"+from+"/"+to;
            //fetch(url)
            //.then(response => response.json())
            //.then(data => {
            //    var rate = data.rates[to];
            //    var final = amount * rate;
            //    result.innerHTML = final;
            //    console.log(final);
            //})
        }
    </script>

</body>
</html>